{"version":3,"file":"utils.js","names":["WUJIE_SCRIPT_ID","WUJIE_TIPS_NO_URL","WUJIE_APP_ID","WUJIE_TIPS_STOP_APP","WUJIE_TIPS_STOP_APP_DETAIL","toArray","array","Array","isArray","isFunction","value","isHijackingTag","tagName","toUpperCase","wujieSupport","window","Proxy","CustomElementRegistry","naughtySafari","document","all","callableFnCacheMap","WeakMap","isCallable","fn","has","callable","set","boundedMap","isBoundedFunction","get","bounded","name","indexOf","hasOwnProperty","fnRegexCheckCacheMap","isConstructable","hasPrototypeMethods","prototype","constructor","Object","getOwnPropertyNames","length","constructable","fnString","toString","constructableFunctionRegex","classRegex","test","setFnCacheMap","checkProxyFunction","getTargetValue","target","p","boundValue","Function","bind","call","key","defineProperty","enumerable","writable","getDegradeIframe","id","querySelector","concat","setAttrsToElement","element","attrs","keys","forEach","setAttribute","appRouteParse","url","error","Error","urlElement","anchorElementGenerator","appHostPath","protocol","host","appRoutePath","pathname","search","hash","startsWith","createElement","href","getAnchorElementQueryMap","anchorElement","queryList","replace","split","queryMap","query","_query$split","_query$split2","_slicedToArray","isMatchSyncQueryById","location","includes","fixElementCtrSrcOrHref","iframeWindow","elementCtr","attr","rawElementSetAttribute","Element","targetValue","getAbsolutePath","baseURI","rawAnchorElementHrefDescriptor","getOwnPropertyDescriptor","configurable","getCurUrl","proxyLocation","base","URL","_unused","getSyncUrl","prefix","_syncUrl$match","winUrlElement","syncUrl","decodeURIComponent","validShortPath","match","requestIdleCallback","cb","setTimeout","getContainer","container","warn","msg","data","_console","console","_console2","getInlineCode","start","end","lastIndexOf","substring","defaultGetPublicPath","entry","_typeof","_URL","origin","paths","pop","join","e","compose","fnList","code","_len","arguments","args","_key","reduce","newCode","apply","nextTick","Promise","resolve","then","execHooks","plugins","hookName","_len2","_key2","map","plugin","filter","hook","isScriptElement","_element$tagName","count","setTagToScript","tag","scriptTag","String","getTagFromScript","getAttribute","mergeOptions","options","cacheOptions","el","html","exec","undefined","fetch","props","sync","loading","degradeAttrs","fiber","alive","degrade","mainHostPath","lifecycles","beforeLoad","beforeMount","afterMount","beforeUnmount","afterUnmount","activated","deactivated","loadError","eventTrigger","eventName","detail","event","CustomEvent","createEvent","initCustomEvent","dispatchEvent","stopMainAppRun"],"sources":["../src/utils.ts"],"sourcesContent":["import {\r\n  WUJIE_SCRIPT_ID,\r\n  WUJIE_TIPS_NO_URL,\r\n  WUJIE_APP_ID,\r\n  WUJIE_TIPS_STOP_APP,\r\n  WUJIE_TIPS_STOP_APP_DETAIL,\r\n} from \"./constant\";\r\nimport { plugin, cacheOptions } from \"./index\";\r\n\r\nexport function toArray<T>(array: T | T[]): T[] {\r\n  return Array.isArray(array) ? array : [array];\r\n}\r\n\r\nexport function isFunction(value: any): boolean {\r\n  return typeof value === \"function\";\r\n}\r\n\r\nexport function isHijackingTag(tagName?: string) {\r\n  return (\r\n    tagName?.toUpperCase() === \"LINK\" ||\r\n    tagName?.toUpperCase() === \"STYLE\" ||\r\n    tagName?.toUpperCase() === \"SCRIPT\" ||\r\n    tagName?.toUpperCase() === \"IFRAME\"\r\n  );\r\n}\r\n\r\nexport const wujieSupport = window.Proxy && window.CustomElementRegistry;\r\n\r\n/**\r\n * in safari\r\n * typeof document.all === 'undefined' // true\r\n * typeof document.all === 'function' // true\r\n * We need to discriminate safari for better performance\r\n */\r\nconst naughtySafari = typeof document.all === \"function\" && typeof document.all === \"undefined\";\r\nconst callableFnCacheMap = new WeakMap<CallableFunction, boolean>();\r\nexport const isCallable = (fn: any) => {\r\n  if (callableFnCacheMap.has(fn)) {\r\n    return true;\r\n  }\r\n\r\n  const callable = naughtySafari ? typeof fn === \"function\" && typeof fn !== \"undefined\" : typeof fn === \"function\";\r\n  if (callable) {\r\n    callableFnCacheMap.set(fn, callable);\r\n  }\r\n  return callable;\r\n};\r\n\r\nconst boundedMap = new WeakMap<CallableFunction, boolean>();\r\nexport function isBoundedFunction(fn: CallableFunction) {\r\n  if (boundedMap.has(fn)) {\r\n    return boundedMap.get(fn);\r\n  }\r\n  const bounded = fn.name.indexOf(\"bound \") === 0 && !fn.hasOwnProperty(\"prototype\");\r\n  boundedMap.set(fn, bounded);\r\n  return bounded;\r\n}\r\n\r\nconst fnRegexCheckCacheMap = new WeakMap<any | FunctionConstructor, boolean>();\r\nexport function isConstructable(fn: () => any | FunctionConstructor) {\r\n  const hasPrototypeMethods =\r\n    fn.prototype && fn.prototype.constructor === fn && Object.getOwnPropertyNames(fn.prototype).length > 1;\r\n\r\n  if (hasPrototypeMethods) return true;\r\n\r\n  if (fnRegexCheckCacheMap.has(fn)) {\r\n    return fnRegexCheckCacheMap.get(fn);\r\n  }\r\n\r\n  let constructable = hasPrototypeMethods;\r\n  if (!constructable) {\r\n    const fnString = fn.toString();\r\n    const constructableFunctionRegex = /^function\\b\\s[A-Z].*/;\r\n    const classRegex = /^class\\b/;\r\n    constructable = constructableFunctionRegex.test(fnString) || classRegex.test(fnString);\r\n  }\r\n\r\n  fnRegexCheckCacheMap.set(fn, constructable);\r\n  return constructable;\r\n}\r\n\r\nconst setFnCacheMap = new WeakMap<CallableFunction, CallableFunction>();\r\nexport function checkProxyFunction(value: any) {\r\n  if (isCallable(value) && !isBoundedFunction(value) && !isConstructable(value)) {\r\n    if (!setFnCacheMap.has(value)) {\r\n      setFnCacheMap.set(value, value);\r\n    }\r\n  }\r\n}\r\n\r\nexport function getTargetValue(target: any, p: any): any {\r\n  const value = target[p];\r\n  if (setFnCacheMap.has(value)) {\r\n    return setFnCacheMap.get(value);\r\n  }\r\n  if (isCallable(value) && !isBoundedFunction(value) && !isConstructable(value)) {\r\n    const boundValue = Function.prototype.bind.call(value, target);\r\n    setFnCacheMap.set(value, boundValue);\r\n\r\n    for (const key in value) {\r\n      boundValue[key] = value[key];\r\n    }\r\n    if (value.hasOwnProperty(\"prototype\") && !boundValue.hasOwnProperty(\"prototype\")) {\r\n      // https://github.com/kuitos/kuitos.github.io/issues/47\r\n      Object.defineProperty(boundValue, \"prototype\", { value: value.prototype, enumerable: false, writable: true });\r\n    }\r\n    return boundValue;\r\n  }\r\n  return value;\r\n}\r\n\r\nexport function getDegradeIframe(id: string): HTMLIFrameElement {\r\n  return window.document.querySelector(`iframe[${WUJIE_APP_ID}=\"${id}\"]`);\r\n}\r\n\r\nexport function setAttrsToElement(element: HTMLElement, attrs: { [key: string]: any }) {\r\n  Object.keys(attrs).forEach((name) => {\r\n    element.setAttribute(name, attrs[name]);\r\n  });\r\n}\r\n\r\nexport function appRouteParse(url: string): {\r\n  urlElement: HTMLAnchorElement;\r\n  appHostPath: string;\r\n  appRoutePath: string;\r\n} {\r\n  if (!url) {\r\n    error(WUJIE_TIPS_NO_URL);\r\n    throw new Error();\r\n  }\r\n  const urlElement = anchorElementGenerator(url);\r\n  const appHostPath = urlElement.protocol + \"//\" + urlElement.host;\r\n  let appRoutePath = urlElement.pathname + urlElement.search + urlElement.hash;\r\n  if (!appRoutePath.startsWith(\"/\")) appRoutePath = \"/\" + appRoutePath; // hack ie\r\n  return { urlElement, appHostPath, appRoutePath };\r\n}\r\n\r\nexport function anchorElementGenerator(url: string): HTMLAnchorElement {\r\n  const element = window.document.createElement(\"a\");\r\n  element.href = url;\r\n  element.href = element.href; // hack ie\r\n  return element;\r\n}\r\n\r\nexport function getAnchorElementQueryMap(anchorElement: HTMLAnchorElement): { [key: string]: string } {\r\n  const queryList = anchorElement.search.replace(\"?\", \"\").split(\"&\");\r\n  const queryMap = {};\r\n  queryList.forEach((query) => {\r\n    const [key, value] = query.split(\"=\");\r\n    if (key && value) queryMap[key] = value;\r\n  });\r\n  return queryMap;\r\n}\r\n\r\n/**\r\n * 当前url的查询参数中是否有给定的id\r\n */\r\nexport function isMatchSyncQueryById(id: string): boolean {\r\n  const queryMap = getAnchorElementQueryMap(anchorElementGenerator(window.location.href));\r\n  return Object.keys(queryMap).includes(id);\r\n}\r\n\r\n/**\r\n * 劫持元素原型对相对地址的赋值转绝对地址\r\n * @param iframeWindow\r\n */\r\nexport function fixElementCtrSrcOrHref(\r\n  iframeWindow: Window,\r\n  elementCtr:\r\n    | typeof HTMLImageElement\r\n    | typeof HTMLAnchorElement\r\n    | typeof HTMLSourceElement\r\n    | typeof HTMLLinkElement\r\n    | typeof HTMLScriptElement\r\n    | typeof HTMLMediaElement,\r\n  attr\r\n): void {\r\n  // patch setAttribute\r\n  const rawElementSetAttribute = iframeWindow.Element.prototype.setAttribute;\r\n  elementCtr.prototype.setAttribute = function (name: string, value: string): void {\r\n    let targetValue = value;\r\n    if (name === attr) targetValue = getAbsolutePath(value, this.baseURI || \"\", true);\r\n    rawElementSetAttribute.call(this, name, targetValue);\r\n  };\r\n  // patch href get and set\r\n  const rawAnchorElementHrefDescriptor = Object.getOwnPropertyDescriptor(elementCtr.prototype, attr);\r\n  const { enumerable, configurable, get, set } = rawAnchorElementHrefDescriptor;\r\n  Object.defineProperty(elementCtr.prototype, attr, {\r\n    enumerable,\r\n    configurable,\r\n    get: function () {\r\n      return get.call(this);\r\n    },\r\n    set: function (href) {\r\n      set.call(this, getAbsolutePath(href, this.baseURI, true));\r\n    },\r\n  });\r\n  // TODO: innerHTML的处理\r\n}\r\n\r\nexport function getCurUrl(proxyLocation: Object): string {\r\n  const location = proxyLocation as Location;\r\n  return location.protocol + \"//\" + location.host + location.pathname;\r\n}\r\n\r\nexport function getAbsolutePath(url: string, base: string, hash?: boolean): string {\r\n  try {\r\n    // 为空值无需处理\r\n    if (url) {\r\n      // 需要处理hash的场景\r\n      if (hash && url.startsWith(\"#\")) return url;\r\n      return new URL(url, base).href;\r\n    } else return url;\r\n  } catch {\r\n    return url;\r\n  }\r\n}\r\n/**\r\n * 获取需要同步的url\r\n */\r\nexport function getSyncUrl(id: string, prefix: { [key: string]: string }): string {\r\n  let winUrlElement = anchorElementGenerator(window.location.href);\r\n  const queryMap = getAnchorElementQueryMap(winUrlElement);\r\n  winUrlElement = null;\r\n  const syncUrl = window.decodeURIComponent(queryMap[id] || \"\");\r\n  const validShortPath = syncUrl.match(/^{([^}]*)}/)?.[1];\r\n  if (prefix && validShortPath) {\r\n    return syncUrl.replace(`{${validShortPath}}`, prefix[validShortPath]);\r\n  }\r\n  return syncUrl;\r\n}\r\n// @ts-ignore\r\nexport const requestIdleCallback = window.requestIdleCallback || ((cb: Function) => setTimeout(cb, 1));\r\n\r\nexport function getContainer(container: string | HTMLElement): HTMLElement {\r\n  return typeof container === \"string\" ? (document.querySelector(container) as HTMLElement) : container;\r\n}\r\n\r\nexport function warn(msg: string, data?: any): void {\r\n  console?.warn(`[wujie warn]: ${msg}`, data);\r\n}\r\n\r\nexport function error(msg: string, data?: any): void {\r\n  console?.error(`[wujie error]: ${msg}`, data);\r\n}\r\n\r\nexport function getInlineCode(match) {\r\n  const start = match.indexOf(\">\") + 1;\r\n  const end = match.lastIndexOf(\"<\");\r\n  return match.substring(start, end);\r\n}\r\n\r\nexport function defaultGetPublicPath(entry) {\r\n  if (typeof entry === \"object\") {\r\n    return \"/\";\r\n  }\r\n  try {\r\n    const { origin, pathname } = new URL(entry, location.href);\r\n    const paths = pathname.split(\"/\");\r\n    // 移除最后一个元素\r\n    paths.pop();\r\n    return `${origin}${paths.join(\"/\")}/`;\r\n  } catch (e) {\r\n    console.warn(e);\r\n    return \"\";\r\n  }\r\n}\r\n\r\n/** [f1, f2, f3, f4] => f4(f3(f2(f1))) 函数柯里化 */\r\nexport function compose(fnList: Array<Function>): (...args: Array<string>) => string {\r\n  return function (code: string, ...args: Array<any>) {\r\n    return fnList.reduce((newCode, fn) => (isFunction(fn) ? fn(newCode, ...args) : newCode), code || \"\");\r\n  };\r\n}\r\n\r\n// 微任务\r\nexport function nextTick(cb: () => any): void {\r\n  Promise.resolve().then(cb);\r\n}\r\n\r\n//执行钩子函数\r\nexport function execHooks(plugins: Array<plugin>, hookName: string, ...args: Array<any>): void {\r\n  try {\r\n    if (plugins && plugins.length > 0) {\r\n      plugins\r\n        .map((plugin) => plugin[hookName])\r\n        .filter((hook) => isFunction(hook))\r\n        .forEach((hook) => hook(...args));\r\n    }\r\n  } catch (e) {\r\n    error(e);\r\n  }\r\n}\r\n\r\nexport function isScriptElement(element: HTMLElement): boolean {\r\n  return element.tagName?.toUpperCase() === \"SCRIPT\";\r\n}\r\n\r\nlet count = 1;\r\nexport function setTagToScript(element: HTMLScriptElement, tag?: string): void {\r\n  if (isScriptElement(element)) {\r\n    const scriptTag = tag || String(count++);\r\n    element.setAttribute(WUJIE_SCRIPT_ID, scriptTag);\r\n  }\r\n}\r\n\r\nexport function getTagFromScript(element: HTMLScriptElement): string | null {\r\n  if (isScriptElement(element)) {\r\n    return element.getAttribute(WUJIE_SCRIPT_ID);\r\n  }\r\n  return null;\r\n}\r\n\r\n// 合并缓存\r\nexport function mergeOptions(options: cacheOptions, cacheOptions: cacheOptions) {\r\n  return {\r\n    name: options.name,\r\n    el: options.el || cacheOptions?.el,\r\n    url: options.url || cacheOptions?.url,\r\n    html: options.html || cacheOptions?.html,\r\n    exec: options.exec !== undefined ? options.exec : cacheOptions?.exec,\r\n    replace: options.replace || cacheOptions?.replace,\r\n    fetch: options.fetch || cacheOptions?.fetch,\r\n    props: options.props || cacheOptions?.props,\r\n    sync: options.sync !== undefined ? options.sync : cacheOptions?.sync,\r\n    prefix: options.prefix || cacheOptions?.prefix,\r\n    loading: options.loading || cacheOptions?.loading,\r\n    // 默认 {}\r\n    attrs: options.attrs !== undefined ? options.attrs : cacheOptions?.attrs || {},\r\n    degradeAttrs: options.degradeAttrs !== undefined ? options.degradeAttrs : cacheOptions?.degradeAttrs || {},\r\n    // 默认 true\r\n    fiber: options.fiber !== undefined ? options.fiber : cacheOptions?.fiber !== undefined ? cacheOptions?.fiber : true,\r\n    alive: options.alive !== undefined ? options.alive : cacheOptions?.alive,\r\n    degrade: options.degrade !== undefined ? options.degrade : cacheOptions?.degrade,\r\n    plugins: options.plugins || cacheOptions?.plugins,\r\n    mainHostPath: options.mainHostPath || cacheOptions?.mainHostPath,\r\n    lifecycles: {\r\n      beforeLoad: options.beforeLoad || cacheOptions?.beforeLoad,\r\n      beforeMount: options.beforeMount || cacheOptions?.beforeMount,\r\n      afterMount: options.afterMount || cacheOptions?.afterMount,\r\n      beforeUnmount: options.beforeUnmount || cacheOptions?.beforeUnmount,\r\n      afterUnmount: options.afterUnmount || cacheOptions?.afterUnmount,\r\n      activated: options.activated || cacheOptions?.activated,\r\n      deactivated: options.deactivated || cacheOptions?.deactivated,\r\n      loadError: options.loadError || cacheOptions?.loadError,\r\n    },\r\n  };\r\n}\r\n\r\n/**\r\n * 事件触发器\r\n */\r\nexport function eventTrigger(el: HTMLElement | Window | Document, eventName: string, detail?: any) {\r\n  let event;\r\n  if (typeof window.CustomEvent === \"function\") {\r\n    event = new CustomEvent(eventName, { detail });\r\n  } else {\r\n    event = document.createEvent(\"CustomEvent\");\r\n    event.initCustomEvent(eventName, true, false, detail);\r\n  }\r\n  el.dispatchEvent(event);\r\n}\r\n\r\nexport function stopMainAppRun() {\r\n  warn(WUJIE_TIPS_STOP_APP_DETAIL);\r\n  throw new Error(WUJIE_TIPS_STOP_APP);\r\n}\r\n"],"mappings":"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","ignoreList":[]}