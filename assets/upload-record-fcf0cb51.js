import{d as V,l as E,a as P,r as g,H as R,c,z as L,o as i,e as u,g as t,w as o,j as d,f,p as N,A as m,C as _,k as z,q as D}from"./index-3e61b4b7.js";import{c as q}from"./upload-d90172a6.js";const U={class:"mb20px flex"},W={key:0,class:"w72px h24px line-height-24px text-center bg-#52C41A rounded-2px inline-block color-#fff"},j={key:1,class:"w72px h24px line-height-24px text-center bg-#F0F1F5 rounded-2px inline-block"},H={key:2,class:"w72px h24px line-height-24px text-center bg-#F53F3F rounded-2px inline-block color-#fff"},G={key:0,class:"w72px h24px line-height-24px text-center bg-#FF9900 rounded-2px inline-block color-#fff"},I={key:1,class:"w72px h24px line-height-24px text-center bg-#C9CDD4 rounded-2px inline-block"},J=V({name:"internal-menu"}),Q=V({...J,setup(K){const $=E(),S=P(),b=g(!1),v=g([]),p=g({pageSize:10,pageNo:1,total:0}),C=(n,e)=>{console.log(n,e)},k=(n,e)=>{console.log(n,e)},s=g("1"),y=n=>{s.value=n},h=()=>{b.value=!0,q({id:$.query.id,type:s.value}).then(n=>{p.value.total=n.data.totalNumber,v.value=n.data.list}).finally(()=>{b.value=!1})};R(()=>{h()});const T=()=>{S.replace("/tools/upload")};return(n,e)=>{const r=c("el-button"),a=c("el-table-column"),w=c("el-table"),B=c("ly-pagination"),A=c("LyPageWrapper"),F=L("loading");return i(),u("div",null,[t(A,{title:"上传记录"},{toolButton:o(()=>[t(r,{type:"primary",plain:"",onClick:T},{default:o(()=>e[4]||(e[4]=[d(" 返回 ")])),_:1})]),default:o(()=>[f("div",U,[f("div",{class:N(["py5px px16px bg-#F4F5F7 rounded-100px mr14px cursor-pointer",s.value==="1"?"bg-#0A4CDE! color-#fff":""]),onClick:e[0]||(e[0]=l=>y("1"))}," 已上传 ",2),f("div",{class:N(["py5px px16px bg-#F4F5F7 rounded-100px cursor-pointer",s.value==="2"?"bg-#0A4CDE! color-#fff":""]),onClick:e[1]||(e[1]=l=>y("2"))}," 待上传 ",2)]),m(f("div",null,[m((i(),z(w,{data:v.value},{default:o(()=>[t(a,{label:"文件名称",prop:"fileName"}),t(a,{label:"文件版本号",prop:"fileVersion"}),t(a,{label:"文件大小",prop:"fileSize"}),t(a,{label:"文件行数",prop:"fileRow"}),t(a,{label:"状态",prop:"status"},{default:o(({row:l})=>[l.status==="1"?(i(),u("span",W,"上传成功")):l.status==="2"?(i(),u("span",j,"上传中...")):l.status==="3"?(i(),u("span",H,"上传失败")):D("",!0)]),_:1}),t(a,{label:"操作人",prop:"operator"}),t(a,{label:"上传时间",prop:"createTime","min-width":"100"}),t(a,{label:"更新时间",prop:"updateTime","min-width":"100"}),t(a,{label:"操作",align:"center",width:"120",fixed:"right"},{default:o(({row:l})=>[t(r,{type:"primary",link:"",plain:"",onClick:x=>C("view",l)},{default:o(()=>e[5]||(e[5]=[d(" 查看 ")])),_:2},1032,["onClick"]),t(r,{type:"primary",link:"",plain:"",onClick:x=>C("delete",l)},{default:o(()=>e[6]||(e[6]=[d(" 删除 ")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[F,b.value]]),m(t(B,{page:p.value.pageNo,"onUpdate:page":e[2]||(e[2]=l=>p.value.pageNo=l),limit:p.value.pageSize,"onUpdate:limit":e[3]||(e[3]=l=>p.value.pageSize=l),total:p.value.total,onPagination:h},null,8,["page","limit","total"]),[[_,p.value.total>0]])],512),[[_,s.value==="1"]]),m(f("div",null,[m((i(),z(w,{data:v.value},{default:o(()=>[t(a,{label:"文件名称",prop:"fileName"}),t(a,{label:"文件大小",prop:"fileSize"}),t(a,{label:"状态",prop:"status"},{default:o(({row:l})=>[l.status==="4"?(i(),u("span",G,"待上传")):l.status==="5"?(i(),u("span",I,"已取消")):D("",!0)]),_:1}),t(a,{label:"操作人",prop:"operator"}),t(a,{label:"上传时间",prop:"createTime","min-width":"100"}),t(a,{label:"更新时间",prop:"updateTime","min-width":"100"}),t(a,{label:"操作",align:"center",width:"300",fixed:"right"},{default:o(({row:l})=>[t(r,{type:"primary",link:"",plain:"",onClick:x=>k("1",l)},{default:o(()=>e[7]||(e[7]=[d(" 继续上传 ")])),_:2},1032,["onClick"]),t(r,{type:"primary",link:"",plain:"",onClick:x=>k("2",l)},{default:o(()=>e[8]||(e[8]=[d(" 取消上传 ")])),_:2},1032,["onClick"]),t(r,{type:"primary",link:"",plain:"",onClick:x=>k("3",l)},{default:o(()=>e[9]||(e[9]=[d(" 对比上次数据变动 ")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[F,b.value]])],512),[[_,s.value==="2"]])]),_:1})])}}});export{Q as default};
//# sourceMappingURL=upload-record-fcf0cb51.js.map
